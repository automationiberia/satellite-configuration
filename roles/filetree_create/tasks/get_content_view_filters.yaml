---
- name: Content View Filters | Reset the results variable
  ansible.builtin.set_fact:
    result_api_response: {}

- name: Content View Filters | Get Info
  include_tasks: api_call.yaml
  vars:
    call_type: Content View Filters
    api_link: /katello/api/content_view_filters?full_result=true
    body_format: "json"
    body: "{\"types\":[\"rpm\"]}"

- name: Content View Filters | Set Info List
  ansible.builtin.set_fact:
    all_results: "{{ result_api_response.json.results | sort(attribute='id') | unique }}"

- name: Content View Filters | Get Detailed Info
  include_tasks: detailed_api_call.yaml
  vars:
    call_type: Content View Filters
    api_link: /katello/api/content_view_filters/
    loop_var: "{{ all_results }}"

- name: Content View Filters | Template Out Results
  include_tasks: template_out.yaml
  vars:
    template_type: satellite_content_view_filters

